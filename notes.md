# Git学习笔记
## 前言

这几天陆陆续续看了[Udacity-如何使用Git和GitHub](https://classroom.udacity.com/courses/ud775/lessons/2980038599/concepts/29607789240923)
和[廖雪峰的Git教程](http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000)，学习了一些关于Git的知识，所以想做个笔记。

### 关于Git
嗯，这是一个**分布式版本控制系统**。分布式意味着死了一个我还有千千万万个我，
而版本控制就是可以不断更新也可以回退，因为它控制着你各种版本的代码。

### 小白起步
由于校园网死活没有下载到Git，所以下了GitHub的桌面程序，它就给我带了一个Git shell（我是Windows系统），然后根据它的[提示](https://help.github.com/articles/set-up-git/)
一下子就配好了密钥了。如果时间比较多又想实践，推荐Udacity的教程，因为是妹子主讲的，但是有时候会觉得有点啰嗦，加速着看、跟着动手很快就能掌握一些Git的基本操作啦。

----
## Git 初体验

### Git init 初始化
  打开Git命令行，进入你想要实行版本控制的文件夹，输入 **git init** 就可以让它生成一个.git文件夹，这个文件夹是用来存你的版本信息的，
所以一般情况下都不会乱动吧。这个操作相当于建立了一个本地的repository。  
  初始化之后可以用 **git status** 查看当前状态，可以查看工作区域跟暂存区的文件有哪些在暂存区、或者查看有哪些文件进行了修改。  
  这里要引入一个概念，就是你所在的文件夹是你的 **工作区域** ，然后还有 **暂存区** （用于存放你准备交但是还没有提交的文件），还有
 **repository仓库** （提交的文件所在地）。  
使用 **git add 文件名** 可以将工作区的文件提交到暂存区，使用 **git commit**可以将暂存区的文件一次性地提交到仓库中。  
commit的时候可以加-m 去增加提交信息，但是我配置了弹出编辑器来写提交信息，配置方法要去搜一下。 

### git log 日志
**git log** 指令能查看提交日志，查看日志时按Q退出，按下箭头继续往下看。你的每一次提交会有commitID,这个ID下面可以用上。
### 比较功能
这个就厉害了，当你修改了工作区的文件但是还没有add进暂存区， **git diff**可以比较修改前后的不同。  
当你add进了暂存区但是还没有commit的时候， **git diff --staged** 可以比较暂存区和最新提交内容之间的不同。  
**git diff commitid1 commitid2**可以比较两次提交内容的不同。（适用于交了好几个版本突然发现一个BUG要倒回去找的时候O(∩_∩)O）  

### 版本回退大法
* **git reset** 可以使版本回退到上一个commit，其实是HEAD回退了，还没有把你最新版本删掉。  
  补充一个HEAD概念，相当于一个指着你最新版本的标记。

*  **git checkout commitid** 用这个指令可以来来回回穿梭你各种版本，但是你要先git log一下，不然很容易忘掉id。
*  **git rm** 用于删除文件

----
## Git Branch 分支大法好

分支就是可以搞东搞西而又不影响你最棒棒的代码的保证，质量保证。分支其实就是一个HEAD的动来动去的那种感觉~\(≧▽≦)/~啦啦啦
  
* **git branch** 查看当前已有的分支。

* **git branch xxx** 创建一个新的名为xxx的分支。

* **git checkout xxx** 把头头HEAD移到xxx分支去，就是你要开始在xxx分支上面玩的时候要做的事情。

* **git checkout -b xxx** 创建一个新的名为xxx的分支并把头头移过去。

* **git branch -d xxx** 删除分支。

* **git merge xx xxx** 合并xx和xxx分支。

* **git merge --abort** 将文件恢复到合并前的状态。（嗯如果成功合并的话）

* **git merge xx** 将xx和你当前你所在的分支合并，说到合并又可能会有幺蛾子出现。

* **git log --graph** 分支合并图O(∩_∩)O~。
* **git stash** 保护现场，当你在你的分支玩得正high，突然要修改一个别的分支的bug时，你可以用这个命令保护现场，然后去勤劳地修bug，
再使用 **git stash pop** 返回现场。 **git stash list**可以看你保护了多少现场。
  
### 合并会发生什么幺蛾子?
1.Git很智能，因为你两个分支改动的地方不一样，所以它唰一下帮你合并好了。这就是快速(fast forward)合并。当然你可以拒绝Git，
合并分支的时候，加上 **--no --ff** 就可以拒绝它啦。

2.有时候很抱歉没办法合并，因为你两个分支修改了同样的地方，Git会认为合并冲突了，所以需要手动修改代码再add 再commit。

----
## 远程版本库

### 添加远程版本库
* **git remote** 查看当前连的远程库都是啥。

* **git remote add 远程库名 URL** 添加一个版本库。

* **git remote -v** 查看远程库名对应的URL。

### Git和远程库的互动
* **git push 远程库名 分支名** 将本地分支Push到远程库中。

* **git pull 远程库名 分支名** 将远程库的某分支拉下到本地库中。

* **git clone URL** 当你出差被迫到网吧打代码时可以这样把远程库整个克隆到电脑中。

* 当你在本地更新了一下，又在远程库更新了另一下，怎么办呢?  
用 **git fecth**更新远程分支的本地版本，这个并不是将远程库pull下来，而是可以由此查看本地库与远程库的区别再决定是否合并。
合并时使用 **git merge 远程库名/分支名 本地分支名**

----
## GitHub的社交方式

### 小透明的社交

* 找到大佬们的GitHub主页，默默点个FOLLOW。

* 给大佬们点赞，加星星STAR。

### 小透明进阶
* 把大佬们的项目FORK下来，自己做改动。  
FORK和CLONE还是有不同的，CLONE就很像偷偷地搞下来，但是FORK就光明正大地把项目拿到你的GitHub主页，然后可以再CLONE下来。
FORK会将你FORK的项目链接回去原来的项目中，开源社区一片美好。

* **pull request** 这个可以发生在自己的项目也可以发生在对别人的项目中。请求合并的感觉。而且pull request可以写理由。
你把大佬的项目FORK下来了，你觉得大佬某某地方做得不好你修改了，就可以向大佬发出pull request。
多人合作项目的时候分支要不要和master合并也可以用这个。

----
## 标签管理

有一天老板突然跟你说，我们这次上线的版本不是很好，你能不能把上几次发布的2.0的版本拿出来再重新改改呀？
你心中默念，哪个2.0版本？这时老板掏出了一堆commitID跟你说我记得2.0版本的commitId是21654545hgjjgyfgfugf@#￥%&

### 当然不会有这个场景啦！因为有标签管理！

* **git tag v2.0** 新建一个名为v2.0的标签，其实它指向最后一个commit。

* **git tag v3.0 commitID** 新建一个打在某commitID的tag。

* **git show v3.0** 查看3.0版本的信息。

* **git tag -a v4.0 -m "4.0版本发布，其实没有更新只是为了骗老板" commitID** 道理很简单。

但是这些tag开始的时候都只是在你的本地库里面所以要使用  
**git push 远程库名 v4.0** 这样才能把标签推到远程库里面。

----

如果还学了新的会回来更新，这些对我这个小白已经暂时够用了。  (2017/3/6)



 


